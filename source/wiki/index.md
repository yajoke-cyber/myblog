---
layout: wiki  # 使用wiki布局模板
wiki: Friends # 这是项目名
title: 这是分页标题

---
## 宅鼠骑手端后台管理系统

### 心得：

首先摒弃了Redux的模板开发用法，全面奔向context共享状态。

其次封装react routerv6的useurlparams，通过url来进行状态管理，让网页在有对应的筛选条件之后可以直接在url进行保存，进而把网址发送给他人就可以直接实现列表筛选条件通过网址传递。

再然后使用客户端缓存react-query结合乐观刷新，例如在发送修改请求到后端修改指定的数据的时候，使用react-query记录缓存之前的代码，然后发送请求的同时，同步的改变列表中对应的数据，然后根据后端的请求来觉得是否回退。如果后端响应成功则保存修改，若请求失败则直接使用状态回退，使用react-query的缓存修改前的数据，并提醒用户修改失败的同时并将数据回退到修改之前！真正的实现了在用户无感的情况下实现数据的快速修改！

同时在项目大量使用hooks API，通过hooks来传递参数避免了原来通过props层叠传参数的困境！使得代码可以在不依赖传参数而直接使用hooks返回数据作为依赖。使得对应依赖组件可以极大的与父组件解耦，组件可以快速重构和迭代，并且也让项目整个代码结构更加的清晰！

### 难点：

